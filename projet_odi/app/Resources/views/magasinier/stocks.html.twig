{% extends 'base.html.twig' %}

{% block title %}
    Magasinier | Stocks
{% endblock %}

{% block menu %}
    {% include 'menubase.twig' %}
{% endblock %}

{% block header %}
    <div class="page-header">
        <h2 class="centrer isoler">Gestion des stocks</h2>
    </div>
{% endblock %}

{% block section %}
  <div class="container">
    {% if produits %}
        <div class="alignerGauche isolerBottom">
            <a href="/magasinier/produits/liste/stocks.csv" class="btn btn-info">Télécharger l'état des stocks (.csv)</a>
        </div>
        <table class="table table-striped table-hover ">
          <thead>
            <tr>
              <th>Référence</th>
              <th>Nom</th>
              <th>Descriptif</th>
              <th>Catégorie</th>
              <th>Quantité</th>
              <th>Quantité Min.</th>
              <th>Date Limite</th>
              <th>Modifier Stocks</th>
            </tr>
          </thead>
          <tbody>
            {% for produit in produits %}
              <tr>
                <td>{{produit.getRefProduit}}</td>
                <td>{{produit.getNomProduit}}<br /><a href="{{ produit.getPhotoProduit }}">Voir photo</a></td>
                <td>{{produit.getDescriptionProduit}}</td>
                <td>{{produit.getCategorieProduit}}</td>
                <td>{{produit.getQuantiteProduit}}</td>
                <td>{{produit.getQuantiteMinProduit}}</td>
                <td>{{produit.getDatePeremptionProduit|date('d / m / Y')}}</td>
                <td><a href="{{ path('updateStock', {numero: produit.getRefProduit}) }}">
                <span class="glyphicon glyphicon-edit"></span>
                </a></td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
    {% else %}
        <p class="centrer">Aucun produit dans la base.</p>
    {% endif %}
  </div>
{% endblock %}
